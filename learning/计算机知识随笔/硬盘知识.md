## 机械硬盘 (HDD)
组成：磁盘碟、机械手臂、磁盘读取头与主轴马达
扇区 (Sector) ：磁盘最小物理储存单位，分为
 512Bytes 跟 4KBytes 两种容量
磁道 (Track) ：磁盘上同一个同心圆的扇区组合成的圆
磁柱 (cylinder) ：所有磁盘碟上面同一个磁道组合成的,MBR下系统文件 (分区槽) 最小的单位


---
## 分区表
### MBR(Master Boot Record,主要开机记录)
MBR通常为磁盘的第一个扇区，放置有开机管理程序记录区和分区表，容量为 512Bytes ,包含有：
* 主要启动记录区 (Master Boot Record, MBR) :可以安装开机管理程序的地方，占用446Bytes
* 分区表 (partition table) :记录整颗硬盘分区的状态，占用 64Bytes

由于分区表仅有 64Bytes ，最多只能记录四组记录区，这四个分区的记录被称为主要
 (Primary) 或延伸 (Extended) 分区

* 延伸 (Extended) 分区：目的是使用额外的扇区 (Sectoe) 来记录分区信息，延伸分区本身不能被拿来格式化。因 Linux 限制，延伸分区只能有一个

* 逻辑 (Logical partition) 分区：是通过延伸(Extended)分区切出来的分区，用到的是延伸分区的磁柱

Linux装置名称(假设只有一颗硬盘)：
主要分区：/dev/sda1-4
逻辑分区：/dev/sda5-10

MBR缺点：
由于MBR每组分区表只有 16Bytes ，可记录信息相当有限，因此 MRB 会遇到以下问题
* 操作系统无法识别 2TB 以上磁盘
* 仅有一个分区区块，若损坏后无法救援
* 存放开机管理程序的区块仅有 446Bytes ，无法容纳较多程序代码

---

### GPT(Globally Unique Identifier Partition Table,全局唯一标识符分区表)
因扇区大小有多多种多样，为兼容所有的磁盘，在扇区 (sector) 的定义上，使用了所谓的逻辑区块地址 (Logical Block Address,LBA) 来处理。GPT将磁盘所有扇区以LBA (预设 512Bytes ) 来规划，第一个LB A称为LBA0。
*  LBA 0 (MBR相容扇区，也称为保护MBR)
与 MBR 模式相似的，这个兼容区块也分为两个部份，一个就是跟之前 446bytes 相似的区块，储存了第一阶段的开机管理程序！而在原本的分区表的纪录区内，这个兼容模式仅放入一个特殊标志的分区，用来表示此磁盘为 GPT 格式之意。同时也阻止不能识别GPT分区的磁盘工具试图对其进行格式化等操作。
*  LBA 1 (GPT表头记录)
纪录了分区表本身的位置与大小，同时纪录了备份用的 GPT 分区 (即最后 34 个 LBA 区块) 放置的位置，同时放置了分区表的检验机制码（CRC32），操作系统可以根据这个检验码来判断 GPT 是否正确。若有错误，还可以透过这个纪录区来取得备份的 GPT (磁盘最后的那个备份区块) 来恢复 GPT 的正常运作。
* LBA 2 ~ 33 (实际纪录分区信息处，即分区表)
分区表中的每个分区项由起始地址、结束地址、类型值、名字、属性标志、GUID值组成。分区表建立后，128位的GUID对系统来说是唯一的。
从 LBA2 扇区开始，每个 LBA 都可以纪录 4 笔分区纪录，所以在默认的情况下，总共可以有 4*32 = 128 笔分区纪录喔！因为每个 LBA 有 512bytes，因此每笔纪录用到 128bytes 的空间，除了每笔纪录所需要的标识符与相关的纪录之外,GPT 在每笔纪录中分别提供了 64bits 来记载开始/结束的扇区号码。
* LBA 34 ~ -35 (GPT分区)
即硬盘实际组成部分。根据分区表的数量以及扇区 (Sector) 来划分
* LBA -34 ~ -1 (GPT备份区)
位于磁盘的尾部，包含GPT头和分区表的备份。它占用硬盘数据的末尾的33个扇区。其中最后一个扇区用来备份LBA1扇区的GPT头，其余的32个扇区用来备份LBA2～LBA33扇区的分区表
> 其中LBA1(GPT头)、LBA2 ~ 33(GPT分区表)、LBA34 ~ -35(GPT分区)、LBA-34 ~ -1(GPT备份区)统称为EFI部分的4个区域
详细参考<https://juejin.im/post/5b7ec7516fb9a019e6434224>

GPT优势：
突破 2TB 容量限制，并且对分区信息有备份