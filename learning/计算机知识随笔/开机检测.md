## CMOS与BIOS

COMS（Complementary Metal Oxide Semiconductor）：记录主板上面的重要参数，包括系统时间、CPU 电压与频率、各项设备的 I/O 地址与 IRQ 等，由于这些数据的记录要花费电力，因此主板上面才有电源。

BIOS(Basic Input Output System)：是一套程序，这套程序是写死到主板上面的一个内存芯片中，这个内存芯片在没有通电时也能够将数据记录下来，那就是只读存储器(Read Only Memory, ROM)。但是计算机发展速度太快，以前写在 ROM 的 BIOS 是不可修改的，目前新的 BIOS 都写在主板上某一块 FLASH 或 EEPROM 。

关系：BIOS 可以在开机的时候执行，以加载 CMOS 当中的参数，并尝试呼叫储存装置中的开机程序，进一步进入操作系统当中。当然 BIOS 也是可以修改 CMOS 的

---
## BIOS (Basic Input Output System)
 BIOS 因为是写入到主板上的一个固件，因此开机时先主动执行的就是 BIOS ， BIOS 会分析哪个硬盘能够开机，并到这个硬盘里面去读取第一个扇区的 MBR 位置，因为 MBR 的主要启动记录区(即开机程序)仅有 446Bytes ，放置了基本的开机管理程序，因此 BIOS 一旦找到 MBR 后，就会把开机工作交给 MBR 的开机程序。

 MBR 的开机程序的目的就是加载核心文件。由于安装在 MBR 的开机程序是操作系统安装时所提供的，因此安装程序会认识硬盘内的文件系统格式，所以能够读取核心文件，接下来就把开机工作交给核心文件。

- [ ] 核心文件

整个开机流程：
1. BIOS: 开机主动执行的固件，会认识硬盘内第一个可开机装置
2. MBR: 第一个可开机装置的第一个扇区内的主要启动记录区，内含开机管理程序
3. 开机管理程序(Boot Loader): 一支可读取核心文件的软件
- [ ] 4. 核心文件: 


BIOS的1024磁柱问题:
PC 上的操作系统是使用主机板上的 BIOS 来载入开机程式执行开机动作，而 BIOS 无法存取位于硬盘 1024 磁柱 (cylinders) 以后的地方， 因此凡是安装于 1024 磁柱之后的操作系统将无法直接开机

---
## UEFI (Unified Extensible Firmware Interface)
统一可扩展固件接口，是一种用来定义操作系统和系统固件支架的软件界面，作为 BIOS 的替代方案

UEFI 采用模块化，突破传统16位寻址能力，可以达到 CPU 最大寻址能力。利用 EFI 驱动程序的形式来识别及操作硬件。驱动程序由 EFI Byte Code(EBC)编写，必须在EFI驱动程序运行环境（Driver Execution Environment，或DXE）下被解释运行，同时具有向下兼容性。基于EFI的驱动模型可以使UEFI系统接触到所有的硬件功能，在操作系统运行以前浏览万维网站，实现图形化、多语言的 BIOS 设置界面

一般认为，UEFI由以下几个部分组成：
1. Pre-EFI 初始化模块：在系统开机的时候最先得到执行，它负责最初的 CPU ，芯片组及存储器的初始化工作，紧接着加载EFI的驱动程序执行环境 (DXE)
2. EFI驱动程序执行环境(DXE)：DXE被加载运行时，系统便具有了读取并加载其他 EFI驱动程序的能力
3. EFI驱动程序：各硬件驱动程序，一般在 ROM 或 ESP 中
4. 兼容性支持模块(CSM)：在x86平台UEFI系统中的一个特殊的模块，它将为不具备UEFI引导能力的操作系统（如Windows XP）以及16位的传统Option ROM（即非EFI的Option ROM）提供类似于传统BIOS的系统服务
5. EFI高层应用：其他EFI应用，一般在 ESP 中
6. GUID磁盘分区表：GPT 分区表

ESP(EFI系统分区): EFI System Partition，FAT格式，容量较小，主要目录是EFI。EFI/boot/bootx64.efi是EFI默认的启动项。安装的操作系统会建立相应的目录EFI/xxx，并将自己的启动项复制为到EFI/boot/bootx64.efi作为缺省启动项。
UEFI固件通过运行EFI系统分区中的引导程序和操作系统。

Secure Boot(安全启动机制):
即开机时操作系统必须要被 UEFI 验证，启动此功能可能导致 Linux 无法启动

---
## 多重引导










